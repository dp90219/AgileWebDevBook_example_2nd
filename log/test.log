  [1m[36m (2.2ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (8.0ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.8ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (21.9ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:11:06', '2014-04-20 12:11:06', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:11:06', '2014-04-20 12:11:06', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"description"=>"MyText", "image_url"=>"MyString", "price"=>"9.99", "title"=>"MyString"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'MyString' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered products/_form.html.erb (12.0ms)
  Rendered products/new.html.erb within layouts/application (16.5ms)
Completed 200 OK in 556ms (Views: 535.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (3.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (4.3ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 22ms (Views: 21.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (4.3ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"description"=>"MyText", "image_url"=>"MyString", "price"=>"9.99", "title"=>"MyString"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'MyString' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered products/_form.html.erb (6.3ms)
Completed 200 OK in 15ms (Views: 8.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (7.5ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (18.6ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.9ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:15:14', '2014-04-20 12:15:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:15:14', '2014-04-20 12:15:14', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-20 12:15:14', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-20 12:15:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 18ms (ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (31.1ms)
Completed 200 OK in 59ms (Views: 58.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (4.1ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-20 12:15:15' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (6.7ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.5ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (18.3ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (3.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (7.5ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.4ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.2ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (19.6ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (3.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mProduct Exists (0.6ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (6.2ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (9.2ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (8.0ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (25.2ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.6ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (3.1ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (5.4ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.4ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (18.6ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (6.2ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.7ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (18.7ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (6.3ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (18.2ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (6.5ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (18.1ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (4.9ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (19.0ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (6.1ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.4ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (21.5ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` IS NULL LIMIT 1
  [1m[36m (6.6ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (17.6ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.2ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:42:54', '2014-04-20 12:42:54', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:42:54', '2014-04-20 12:42:54', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.5ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (17.7ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.2ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:43:39', '2014-04-20 12:43:39', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:43:39', '2014-04-20 12:43:39', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.1ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (19.3ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:43:58', '2014-04-20 12:43:58', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:43:58', '2014-04-20 12:43:58', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (6.5ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.3ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (19.5ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:55:23', '2014-04-20 12:55:23', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:55:23', '2014-04-20 12:55:23', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-20 12:55:23', '2014-04-20 12:55:23', 207281424)
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (5.0ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (19.7ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:58:13', '2014-04-20 12:58:13', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 12:58:13', '2014-04-20 12:58:13', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-20 12:58:13', '2014-04-20 12:58:13', 207281424)
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (6.2ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (9.9ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.5ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (19.6ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:31:48', '2014-04-20 14:31:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:31:48', '2014-04-20 14:31:48', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-20 14:31:48', '2014-04-20 14:31:48', 207281424)
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-20 14:31:48', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-20 14:31:48')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 23ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (10.7ms)
Completed 200 OK in 274ms (Views: 273.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 29ms (Views: 28.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (4.3ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-20 14:31:48' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.5ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
Completed 200 OK in 26ms (Views: 24.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (6.2ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (18.6ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:35:47', '2014-04-20 14:35:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:35:47', '2014-04-20 14:35:47', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-20 14:35:47', '2014-04-20 14:35:47', 207281424)
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-20 14:35:47', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-20 14:35:47')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 22ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (10.0ms)
Completed 200 OK in 44ms (Views: 42.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 28ms (Views: 27.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.6ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-20 14:35:47' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
Completed 200 OK in 25ms (Views: 24.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (8.0ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (18.7ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:36:28', '2014-04-20 14:36:28', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:36:28', '2014-04-20 14:36:28', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-20 14:36:28', '2014-04-20 14:36:28', 207281424)
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-20 14:36:28', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-20 14:36:28')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 22ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (10.1ms)
Completed 200 OK in 44ms (Views: 42.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 29ms (Views: 28.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.6ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-20 14:36:28' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
Completed 200 OK in 25ms (Views: 24.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (6.5ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (19.6ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:39:43', '2014-04-20 14:39:43', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:39:43', '2014-04-20 14:39:43', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-20 14:39:43', '2014-04-20 14:39:43', 207281424)
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-20 14:39:43', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-20 14:39:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 17ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (29.7ms)
Completed 200 OK in 62ms (Views: 60.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.6ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-20 14:39:43' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
Completed 200 OK in 25ms (Views: 23.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (6.7ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (9.5ms)[0m  [1mCREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (17.1ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.2ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420111945')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:50:19', '2014-04-20 14:50:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 14:50:19', '2014-04-20 14:50:19', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-20 14:50:19', '2014-04-20 14:50:19', 207281424)
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-20 14:50:19', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-20 14:50:19')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 22ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.7ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (10.1ms)
Completed 200 OK in 42ms (Views: 41.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 28ms (Views: 27.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.6ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-20 14:50:19' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC
Completed 200 OK in 26ms (Views: 24.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (6.3ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.7ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (16.9ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (18.6ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420151024')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (2.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (10.7ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (16.9ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (18.8ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420151024')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (2.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (2.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-20 15:33:48', '2014-04-20 15:33:48', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-20 15:33:48', '2014-04-20 15:33:48', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 15:33:48', '2014-04-20 15:33:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 15:33:48', '2014-04-20 15:33:48', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-20 15:33:48', '2014-04-20 15:33:48', 207281424)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-20 15:33:48', '2014-04-20 15:33:48', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-20 15:33:48', '2014-04-20 15:33:48', 298486374)[0m
  [1m[35m (2.9ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-20 15:33:48', '2014-04-20 15:33:48')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 18ms
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered carts/_form.html.erb (8.6ms)
Completed 200 OK in 437ms (Views: 436.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts`[0m
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.6ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-20 15:33:48', '2014-04-20 15:33:48')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-20 15:33:48', 207281424, '2014-04-20 15:33:48')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
Redirected to http://test.host/carts/980190964
Completed 302 Found in 30ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/_form.html.erb (10.3ms)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items`[0m
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.6ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-20 15:33:48', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-20 15:33:48')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (4.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (6.6ms)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 31ms (Views: 29.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (4.5ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-20 15:33:48' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC
Completed 200 OK in 68ms (Views: 66.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36m (10.7ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.5ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (17.7ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (7.0ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.9ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420151024')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-20 15:34:17', '2014-04-20 15:34:17', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-20 15:34:17', '2014-04-20 15:34:17', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 15:34:17', '2014-04-20 15:34:17', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-20 15:34:17', '2014-04-20 15:34:17', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-20 15:34:17', '2014-04-20 15:34:17', 207281424)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-20 15:34:17', '2014-04-20 15:34:17', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-20 15:34:17', '2014-04-20 15:34:17', 298486374)[0m
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-20 15:34:17', '2014-04-20 15:34:17')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (15.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts
Completed 302 Found in 38ms (ActiveRecord: 15.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (8.3ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.4ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-20 15:34:17', '2014-04-20 15:34:17')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-20 15:34:17', 207281424, '2014-04-20 15:34:17')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
Redirected to http://test.host/carts/980190964
Completed 302 Found in 14ms (ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (9.1ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.5ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-20 15:34:17', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-20 15:34:17')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (5.8ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.7ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-20 15:34:17' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
Completed 200 OK in 28ms (Views: 26.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (10.8ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (9.3ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (16.8ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (7.1ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.6ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 01:52:49', '2014-04-21 01:52:49', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 01:52:49', '2014-04-21 01:52:49', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 01:52:49', '2014-04-21 01:52:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 01:52:49', '2014-04-21 01:52:49', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 01:52:49', '2014-04-21 01:52:49', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 01:52:49', '2014-04-21 01:52:49', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 01:52:49', '2014-04-21 01:52:49', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 01:52:49', '2014-04-21 01:52:49')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts
Completed 302 Found in 39ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.8ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.4ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 01:52:49', '2014-04-21 01:52:49')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 01:52:49', 207281424, '2014-04-21 01:52:49')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
Redirected to http://test.host/carts/980190964
Completed 302 Found in 15ms (ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.3ms)
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (3.7ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 01:52:49', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 01:52:49')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (5.8ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 28ms (Views: 27.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.5ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 01:52:50' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
Completed 200 OK in 28ms (Views: 26.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (10.7ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (17.2ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (7.4ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (18.7ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (2.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (2.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 01:53:39', '2014-04-21 01:53:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 01:53:39', '2014-04-21 01:53:39', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 01:53:39', '2014-04-21 01:53:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 01:53:39', '2014-04-21 01:53:39', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 01:53:39', '2014-04-21 01:53:39', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 01:53:39', '2014-04-21 01:53:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 01:53:39', '2014-04-21 01:53:39', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 01:53:39', '2014-04-21 01:53:39')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts
Completed 302 Found in 38ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.7ms)
Completed 200 OK in 45ms (Views: 43.5ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.4ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 01:53:39', '2014-04-21 01:53:39')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 01:53:39', 207281424, '2014-04-21 01:53:39')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
Redirected to http://test.host/carts/980190964
Completed 302 Found in 16ms (ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.6ms)
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.7ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 01:53:39', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 01:53:39')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (7.2ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 30ms (Views: 29.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.6ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 01:53:39' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (10.4ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.3ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.2ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (17.1ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (7.1ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (20.0ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 01:54:35', '2014-04-21 01:54:35', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 01:54:35', '2014-04-21 01:54:35', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 01:54:35', '2014-04-21 01:54:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 01:54:35', '2014-04-21 01:54:35', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 01:54:35', '2014-04-21 01:54:35', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 01:54:35', '2014-04-21 01:54:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 01:54:35', '2014-04-21 01:54:35', 298486374)[0m
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 01:54:35', '2014-04-21 01:54:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts
Completed 302 Found in 39ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.8ms)
Completed 200 OK in 45ms (Views: 43.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.4ms)
Completed 200 OK in 6ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 01:54:35', '2014-04-21 01:54:35')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 01:54:35', 207281424, '2014-04-21 01:54:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
Redirected to http://test.host/carts/980190964
Completed 302 Found in 16ms (ActiveRecord: 2.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.5ms)
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (4.0ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 01:54:35', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 01:54:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (7.2ms)
Completed 200 OK in 12ms (Views: 11.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 29ms (Views: 28.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.5ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 01:54:35' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
Completed 200 OK in 28ms (Views: 27.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (10.7ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.7ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (16.1ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (16.8ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (1.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (2.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (2.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 01:56:33', '2014-04-21 01:56:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 01:56:33', '2014-04-21 01:56:33', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 01:56:33', '2014-04-21 01:56:33', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 01:56:33', '2014-04-21 01:56:33', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 01:56:33', '2014-04-21 01:56:33', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 01:56:33', '2014-04-21 01:56:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 01:56:33', '2014-04-21 01:56:33', 298486374)[0m
  [1m[35m (2.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 01:56:34', '2014-04-21 01:56:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.5ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts
Completed 302 Found in 39ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.8ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.6ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
Completed 200 OK in 5ms (Views: 3.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 01:56:34', '2014-04-21 01:56:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 01:56:34', 207281424, '2014-04-21 01:56:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
Redirected to http://test.host/carts/980190964
Completed 302 Found in 15ms (ActiveRecord: 1.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.8ms)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (5.1ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 01:56:34', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 01:56:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 9ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (6.7ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 29ms (Views: 28.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.5ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 01:56:34' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
Completed 200 OK in 28ms (Views: 26.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (11.4ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (9.4ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (17.0ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (7.1ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.1ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.6ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 08:52:45', '2014-04-21 08:52:45', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 08:52:45', '2014-04-21 08:52:45', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 08:52:45', '2014-04-21 08:52:45', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 08:52:45', '2014-04-21 08:52:45', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 08:52:45', '2014-04-21 08:52:45', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 08:52:45', '2014-04-21 08:52:45', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 08:52:45', '2014-04-21 08:52:45', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:52:45', '2014-04-21 08:52:45')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.8ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (3.5ms)
Completed 200 OK in 323ms (Views: 321.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 500 Internal Server Error in 9ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.7ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.1ms)
  Rendered carts/_cart.html.erb (2.5ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:52:45', '2014-04-21 08:52:45')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 08:52:45', 207281424, '2014-04-21 08:52:45')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to 
Completed 500 Internal Server Error in 3ms
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/_form.html.erb (9.0ms)
Completed 500 Internal Server Error in 15ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items`[0m
Completed 500 Internal Server Error in 6ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.8ms)
Completed 500 Internal Server Error in 7ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Unpermitted parameters: cart
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 08:52:46', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 08:52:46')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (6.3ms)
Completed 500 Internal Server Error in 12ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 500 Internal Server Error in 40ms
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (4.2ms)
Completed 500 Internal Server Error in 8ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 500 Internal Server Error in 5ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 08:52:46' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:52:46', '2014-04-21 08:52:46')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.4ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 86ms (Views: 81.2ms | ActiveRecord: 1.9ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (10.7ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (16.3ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (18.2ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.8ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 08:55:59', '2014-04-21 08:55:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 08:55:59', '2014-04-21 08:55:59', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 08:55:59', '2014-04-21 08:55:59', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 08:55:59', '2014-04-21 08:55:59', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 08:55:59', '2014-04-21 08:55:59', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 08:55:59', '2014-04-21 08:55:59', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 08:55:59', '2014-04-21 08:55:59', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:55:59', '2014-04-21 08:55:59')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 40ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (8.0ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.8ms)
Completed 200 OK in 53ms (Views: 51.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.5ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.7ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:55:59', '2014-04-21 08:55:59')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 08:55:59', 207281424, '2014-04-21 08:55:59')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to 
Completed 500 Internal Server Error in 4ms
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/_form.html.erb (8.9ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items`[0m
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.7ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Unpermitted parameters: cart
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 08:55:59', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 08:55:59')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (5.9ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 37ms (Views: 36.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (5.0ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 08:55:59' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:55:59', '2014-04-21 08:55:59')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 43ms (Views: 38.5ms | ActiveRecord: 1.7ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (9.3ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.7ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.9ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (18.6ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (7.0ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (20.1ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (3.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (8.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (3.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 08:57:54', '2014-04-21 08:57:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 08:57:54', '2014-04-21 08:57:54', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 08:57:54', '2014-04-21 08:57:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 08:57:54', '2014-04-21 08:57:54', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 08:57:54', '2014-04-21 08:57:54', 207281424)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 08:57:54', '2014-04-21 08:57:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 08:57:54', '2014-04-21 08:57:54', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:57:54', '2014-04-21 08:57:54')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 38ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.9ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.7ms)
Completed 200 OK in 53ms (Views: 51.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.5ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.0ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:57:55', '2014-04-21 08:57:55')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 08:57:55', 207281424, '2014-04-21 08:57:55')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to 
Completed 500 Internal Server Error in 5ms
  [1m[36m (2.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.5ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (3.0ms)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 08:57:55', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 08:57:55')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (6.4ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 36ms (Views: 35.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.6ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 08:57:55' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:57:55', '2014-04-21 08:57:55')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC
  [1m[36mLineItem Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 43ms (Views: 38.3ms | ActiveRecord: 1.8ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[36m (10.7ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.9ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (16.2ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (18.1ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 08:59:16', '2014-04-21 08:59:16', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 08:59:16', '2014-04-21 08:59:16', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 08:59:16', '2014-04-21 08:59:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 08:59:16', '2014-04-21 08:59:16', 298486374)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 08:59:16', '2014-04-21 08:59:16', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 08:59:16', '2014-04-21 08:59:16', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 08:59:16', '2014-04-21 08:59:16', 298486374)[0m
  [1m[35m (2.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:59:16', '2014-04-21 08:59:16')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.6ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.8ms)
Completed 200 OK in 92ms (Views: 90.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.5ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.3ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:59:16', '2014-04-21 08:59:16')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 08:59:16', 207281424, '2014-04-21 08:59:16')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to 
Completed 500 Internal Server Error in 5ms
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.6ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.8ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 08:59:16', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 08:59:16')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (7.3ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 34ms (Views: 33.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.6ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 08:59:16' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 8ms (ActiveRecord: 1.2ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 08:59:17', '2014-04-21 08:59:17')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.9ms)
Completed 200 OK in 40ms (Views: 35.4ms | ActiveRecord: 1.7ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[36m (9.2ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (16.6ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (18.7ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.7ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:01:05', '2014-04-21 09:01:05', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:01:05', '2014-04-21 09:01:05', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:01:05', '2014-04-21 09:01:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:01:05', '2014-04-21 09:01:05', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 09:01:05', '2014-04-21 09:01:05', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:01:05', '2014-04-21 09:01:05', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:01:05', '2014-04-21 09:01:05', 298486374)[0m
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:01:05', '2014-04-21 09:01:05')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.4ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.8ms)
Completed 200 OK in 93ms (Views: 91.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.4ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:01:05', '2014-04-21 09:01:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 09:01:05', 207281424, '2014-04-21 09:01:05')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (3.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to 
Completed 500 Internal Server Error in 5ms
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.6ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.7ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 09:01:05', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 09:01:05')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (6.3ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 34ms (Views: 33.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.4ms)
Completed 200 OK in 6ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 09:01:05' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:01:05', '2014-04-21 09:01:05')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC
  [1m[36mLineItem Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 39ms (Views: 35.2ms | ActiveRecord: 1.7ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[36m (11.1ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (16.0ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (7.3ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (17.4ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.6ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.4ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:01:34', '2014-04-21 09:01:34', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:01:34', '2014-04-21 09:01:34', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:01:34', '2014-04-21 09:01:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:01:34', '2014-04-21 09:01:34', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 09:01:34', '2014-04-21 09:01:34', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:01:34', '2014-04-21 09:01:34', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:01:34', '2014-04-21 09:01:34', 298486374)[0m
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:01:34', '2014-04-21 09:01:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.4ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.7ms)
Completed 200 OK in 91ms (Views: 89.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.5ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:01:34', '2014-04-21 09:01:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 09:01:34', 207281424, '2014-04-21 09:01:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to 
Completed 500 Internal Server Error in 6ms
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (8.6ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.5ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 09:01:34', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 09:01:34')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `products` WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  Rendered products/_form.html.erb (6.0ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products`
Completed 200 OK in 35ms (Views: 34.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.8ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 09:01:34' WHERE `products`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:01:34', '2014-04-21 09:01:34')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.8ms)
Completed 200 OK in 40ms (Views: 35.1ms | ActiveRecord: 1.8ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[36m (9.3ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.1ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1) ENGINE=InnoDB
  [1m[36m (17.9ms)[0m  [1mCREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) [0m
  [1m[35m (6.8ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (20.0ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.9ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:03:35', '2014-04-21 09:03:35', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:03:35', '2014-04-21 09:03:35', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:03:35', '2014-04-21 09:03:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:03:35', '2014-04-21 09:03:35', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 09:03:35', '2014-04-21 09:03:35', 207281424)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:03:35', '2014-04-21 09:03:35', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:03:35', '2014-04-21 09:03:35', 298486374)[0m
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:03:35', '2014-04-21 09:03:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `carts`
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `carts` WHERE `carts`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `carts`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  Rendered carts/_form.html.erb (7.4ms)
  [1m[36mLineItem Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.9ms)
Completed 200 OK in 94ms (Views: 92.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#index as HTML
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts`
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.4ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.1ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:03:35', '2014-04-21 09:03:35')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 09:03:35', 207281424, '2014-04-21 09:03:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `line_items` WHERE `line_items`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
  Rendered line_items/_form.html.erb (8.3ms)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items`[0m
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.7ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Unpermitted parameters: cart
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (1.0ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 09:03:35', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 09:03:35')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (6.4ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.5ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 09:03:35' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:03:35', '2014-04-21 09:03:35')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190965[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.0ms)
Completed 200 OK in 45ms (Views: 39.7ms | ActiveRecord: 2.0ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (13.0ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (9.6ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.6ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1, `order_id` int(11)) ENGINE=InnoDB
  [1m[36m (19.1ms)[0m  [1mCREATE INDEX `index_line_items_on_order_id` USING btree ON `line_items` (`order_id`) [0m
  [1m[35m (17.3ms)[0m  CREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) 
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.3ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.9ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421091045')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140421091032')[0m
  [1m[35m (2.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (2.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (2.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:22:42', '2014-04-21 09:22:42', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:22:42', '2014-04-21 09:22:42', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:22:42', '2014-04-21 09:22:42', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:22:42', '2014-04-21 09:22:42', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 09:22:42', '2014-04-21 09:22:42', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:22:42', '2014-04-21 09:22:42', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:22:42', '2014-04-21 09:22:42', 298486374)[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2014-04-21 09:22:42', '2014-04-21 09:22:42', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2014-04-21 09:22:42', '2014-04-21 09:22:42', 298486374)
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[35mCart Load (0.5ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:22:42', '2014-04-21 09:22:42')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered carts/_form.html.erb (7.7ms)
  [1m[35mLineItem Exists (0.2ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (3.6ms)
Completed 200 OK in 303ms (Views: 301.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts`[0m
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.6ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.7ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.4ms)
Completed 200 OK in 8ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.7ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.2ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:22:43', '2014-04-21 09:22:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 09:22:43', 207281424, '2014-04-21 09:22:43')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (3.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (11.2ms)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.6ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_require_item_in_cart
-----------------------------------------------
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Processing by OrdersController#new as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:22:43', '2014-04-21 09:22:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#index as HTML
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders`
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:22:43', '2014-04-21 09:22:43')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190966, '2014-04-21 09:22:43', 207281424, '2014-04-21 09:22:43')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OrdersController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:22:43', '2014-04-21 09:22:43')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190967 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36m (13.3ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.6ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1, `order_id` int(11)) ENGINE=InnoDB
  [1m[36m (21.7ms)[0m  [1mCREATE INDEX `index_line_items_on_order_id` USING btree ON `line_items` (`order_id`) [0m
  [1m[35m (16.1ms)[0m  CREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) 
  [1m[36m (7.6ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.3ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (3.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421091045')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140421091032')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:23:03', '2014-04-21 09:23:03', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:23:03', '2014-04-21 09:23:03', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:23:03', '2014-04-21 09:23:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:23:03', '2014-04-21 09:23:03', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 09:23:03', '2014-04-21 09:23:03', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:23:03', '2014-04-21 09:23:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:23:03', '2014-04-21 09:23:03', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2014-04-21 09:23:03', '2014-04-21 09:23:03', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2014-04-21 09:23:03', '2014-04-21 09:23:03', 298486374)
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:03', '2014-04-21 09:23:03')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.4ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered carts/_form.html.erb (7.8ms)
  [1m[35mLineItem Exists (0.2ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (3.0ms)
Completed 200 OK in 68ms (Views: 66.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts`[0m
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.4ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.1ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.5ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:03', '2014-04-21 09:23:03')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 09:23:03', 207281424, '2014-04-21 09:23:03')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (10.6ms)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.9ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_require_item_in_cart
-----------------------------------------------
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Processing by OrdersController#new as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:03', '2014-04-21 09:23:03')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `orders`
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:03', '2014-04-21 09:23:03')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`address`, `created_at`, `email`, `name`, `pay_type`, `updated_at`) VALUES ('MyText', '2014-04-21 09:23:03', 'MyString', 'MyString', 'MyString', '2014-04-21 09:23:03')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/orders/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `orders`[0m
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `orders` WHERE `orders`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/orders
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `orders`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  Rendered orders/_form.html.erb (6.4ms)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#index as HTML
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders`
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:03', '2014-04-21 09:23:03')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190967, '2014-04-21 09:23:03', 207281424, '2014-04-21 09:23:03')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OrdersController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:03', '2014-04-21 09:23:03')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190968 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}, "id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 09:23:03', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 09:23:03')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (5.2ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 37ms (Views: 36.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.6ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 09:23:03' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:03', '2014-04-21 09:23:03')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (1.0ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (1.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.4ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190969 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190969[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (38.6ms)
Completed 200 OK in 83ms (Views: 77.0ms | ActiveRecord: 3.3ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (13.9ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.3ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (7.2ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.5ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1, `order_id` int(11)) ENGINE=InnoDB
  [1m[36m (16.2ms)[0m  [1mCREATE INDEX `index_line_items_on_order_id` USING btree ON `line_items` (`order_id`) [0m
  [1m[35m (16.1ms)[0m  CREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) 
  [1m[36m (6.7ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.9ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (6.4ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (17.5ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421091045')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140421091032')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:23:37', '2014-04-21 09:23:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:23:37', '2014-04-21 09:23:37', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:23:37', '2014-04-21 09:23:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:23:37', '2014-04-21 09:23:37', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 09:23:37', '2014-04-21 09:23:37', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:23:37', '2014-04-21 09:23:37', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:23:37', '2014-04-21 09:23:37', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2014-04-21 09:23:37', '2014-04-21 09:23:37', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2014-04-21 09:23:37', '2014-04-21 09:23:37', 298486374)
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:37', '2014-04-21 09:23:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.4ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered carts/_form.html.erb (7.8ms)
  [1m[35mLineItem Exists (0.2ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (3.9ms)
Completed 200 OK in 69ms (Views: 67.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1mSELECT `carts`.* FROM `carts`[0m
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.4ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.5ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:37', '2014-04-21 09:23:37')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 09:23:37', 207281424, '2014-04-21 09:23:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.9ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (11.0ms)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.6ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_require_item_in_cart
-----------------------------------------------
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Processing by OrdersController#new as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:37', '2014-04-21 09:23:37')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `orders`
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:37', '2014-04-21 09:23:37')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`address`, `created_at`, `email`, `name`, `pay_type`, `updated_at`) VALUES ('MyText', '2014-04-21 09:23:37', 'MyString', 'MyString', 'MyString', '2014-04-21 09:23:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/orders/980190963
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `orders`[0m
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `orders` WHERE `orders`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/orders
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `orders`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.4ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  Rendered orders/_form.html.erb (6.6ms)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#index as HTML
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders`
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:37', '2014-04-21 09:23:37')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190967, '2014-04-21 09:23:37', 207281424, '2014-04-21 09:23:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OrdersController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:37', '2014-04-21 09:23:37')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190968 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}, "id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 09:23:37', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 09:23:37')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (5.2ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 37ms (Views: 36.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (4.0ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 09:23:37' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:23:37', '2014-04-21 09:23:37')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.4ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190969 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190969[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (38.4ms)
Completed 200 OK in 80ms (Views: 75.7ms | ActiveRecord: 1.8ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (13.8ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.8ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1, `order_id` int(11)) ENGINE=InnoDB
  [1m[36m (20.5ms)[0m  [1mCREATE INDEX `index_line_items_on_order_id` USING btree ON `line_items` (`order_id`) [0m
  [1m[35m (16.3ms)[0m  CREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) 
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.3ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (19.8ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) 
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (2.7ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421091045')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140421091032')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:24:14', '2014-04-21 09:24:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 09:24:14', '2014-04-21 09:24:14', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:24:14', '2014-04-21 09:24:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 09:24:14', '2014-04-21 09:24:14', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 09:24:14', '2014-04-21 09:24:14', 207281424)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:24:14', '2014-04-21 09:24:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `line_items` (`product_id`, `created_at`, `updated_at`, `id`) VALUES (NULL, '2014-04-21 09:24:14', '2014-04-21 09:24:14', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `orders`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2014-04-21 09:24:14', '2014-04-21 09:24:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2014-04-21 09:24:14', '2014-04-21 09:24:14', 298486374)
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:24:14', '2014-04-21 09:24:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190963
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.4ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  Rendered carts/_form.html.erb (7.6ms)
  [1m[35mLineItem Exists (0.2ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.9ms)
Completed 200 OK in 67ms (Views: 65.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT `carts`.* FROM `carts`[0m
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  Rendered carts/_form.html.erb (1.4ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190962[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.4ms)
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (1.3ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:24:14', '2014-04-21 09:24:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 09:24:14', 207281424, '2014-04-21 09:24:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `line_items` WHERE `line_items`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `line_items`
  [1m[36m (2.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[36mLineItem Load (0.3ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  Rendered line_items/_form.html.erb (10.4ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items`
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLineItem Load (0.1ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Processing by LineItemsController#new as HTML
  Rendered line_items/_form.html.erb (2.7ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>nil}, "id"=>"980190962"}
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1[0m
Unpermitted parameters: cart
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_require_item_in_cart
-----------------------------------------------
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Processing by OrdersController#new as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:24:14', '2014-04-21 09:24:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.9ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `orders`
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:24:14', '2014-04-21 09:24:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `orders` (`address`, `created_at`, `email`, `name`, `pay_type`, `updated_at`) VALUES ('MyText', '2014-04-21 09:24:14', 'MyString', 'MyString', 'MyString', '2014-04-21 09:24:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/orders/980190963
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `orders`[0m
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `orders` WHERE `orders`.`id` = 980190962
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/orders
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `orders`
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[36mOrder Load (0.3ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  Rendered orders/_form.html.erb (5.9ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[36mOrder Load (0.2ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#index as HTML
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders`
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:24:14', '2014-04-21 09:24:14')
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190967, '2014-04-21 09:24:14', 207281424, '2014-04-21 09:24:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by OrdersController#new as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:24:14', '2014-04-21 09:24:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190968 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
  [1m[36m (2.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.1ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"MyString", "name"=>"MyString", "pay_type"=>"MyString"}, "id"=>"980190962"}
  [1m[35mOrder Load (0.2ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/orders/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[36mProduct Load (0.4ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `products`
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Lorem Ipsum' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `products` (`created_at`, `description`, `image_url`, `price`, `title`, `updated_at`) VALUES ('2014-04-21 09:24:14', 'Wibbles are fun!', 'lorem.jpg', 19.95, 'Lorem Ipsum', '2014-04-21 09:24:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190963
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`product_id` = 980190962
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `products` WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
  Rendered products/_form.html.erb (5.0ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products`[0m
Completed 200 OK in 37ms (Views: 35.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  Rendered products/_form.html.erb (3.7ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1[0m
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProduct Exists (0.4ms)[0m  SELECT 1 AS one FROM `products` WHERE (`products`.`title` = BINARY 'Lorem Ipsum' AND `products`.`id` != 980190962) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `products` SET `title` = 'Lorem Ipsum', `description` = 'Wibbles are fun!', `image_url` = 'lorem.jpg', `price` = 19.95, `updated_at` = '2014-04-21 09:24:15' WHERE `products`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/products/980190962
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36m (2.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 09:24:15', '2014-04-21 09:24:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190969 LIMIT 1
  [1m[36mLineItem Load (0.2ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190969[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (2.2ms)
Completed 200 OK in 44ms (Views: 39.4ms | ActiveRecord: 1.8ms)
  [1m[35m (2.6ms)[0m  ROLLBACK
  [1m[36m (13.9ms)[0m  [1mDROP DATABASE IF EXISTS `depot_test`[0m
  [1m[35m (0.2ms)[0m  CREATE DATABASE `depot_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (9.7ms)[0m  [1mCREATE TABLE `carts` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE `line_items` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `product_id` int(11), `cart_id` int(11), `created_at` datetime, `updated_at` datetime, `quantity` int(11) DEFAULT 1, `order_id` int(11)) ENGINE=InnoDB
  [1m[36m (16.3ms)[0m  [1mCREATE INDEX `index_line_items_on_order_id` USING btree ON `line_items` (`order_id`) [0m
  [1m[35m (16.1ms)[0m  CREATE INDEX `index_line_items_on_product_id` USING btree ON `line_items` (`product_id`) 
  [1m[36m (7.0ms)[0m  [1mCREATE TABLE `orders` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `address` text, `email` varchar(255), `pay_type` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (6.4ms)[0m  CREATE TABLE `products` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `title` varchar(255), `description` text, `image_url` varchar(255), `price` decimal(8,2), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (7.8ms)[0m  [1mCREATE TABLE `users` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `name` varchar(255), `password_digest` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (7.1ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (20.0ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations` ON `schema_migrations` (`version`) [0m
  [1m[35m (0.3ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (3.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140421114856')[0m
  [1m[35m (2.5ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421091032')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140421091045')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421011218')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420150455')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140421010322')
  [1m[36m (2.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20140420151024')[0m
  [1m[35m (1.3ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20140420111945')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `carts`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 12:34:14', '2014-04-21 12:34:14', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2014-04-21 12:34:14', '2014-04-21 12:34:14', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `products`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 12:34:14', '2014-04-21 12:34:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `products` (`title`, `description`, `image_url`, `price`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 9.99, '2014-04-21 12:34:14', '2014-04-21 12:34:14', 298486374)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `products` (`title`, `description`, `price`, `image_url`, `created_at`, `updated_at`, `id`) VALUES ('Programming Ruby 1.9', 'good book, and i like it. I hope that I can read it to the end.', 49.5, 'ruby.png', '2014-04-21 12:34:14', '2014-04-21 12:34:14', 207281424)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `line_items`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `line_items` (`created_at`, `updated_at`, `id`, `order_id`, `product_id`) VALUES ('2014-04-21 12:34:14', '2014-04-21 12:34:14', 980190962, 980190962, 207281424)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `line_items` (`created_at`, `updated_at`, `id`, `order_id`, `product_id`) VALUES ('2014-04-21 12:34:14', '2014-04-21 12:34:14', 298486374, 980190962, 207281424)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM `users`
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `users` (`name`, `password_digest`, `created_at`, `updated_at`, `id`) VALUES ('MyString', '$2a$10$oMI/hiUyobPjKhIfDvaZteA6rDihFlZfgd6njKs7FBWDwFhmQ.e2S', '2014-04-21 12:34:14', '2014-04-21 12:34:14', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `users` (`name`, `password_digest`, `created_at`, `updated_at`, `id`) VALUES ('MyString', '$2a$10$OmDvr.omeZkeGegOxBrXHeAKII61OQo52rGYtrZX3d0s9925N0Kie', '2014-04-21 12:34:14', '2014-04-21 12:34:14', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('Dave Thomas', 'MyText', 'dave@example.org', 'Check', '2014-04-21 12:34:14', '2014-04-21 12:34:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO `orders` (`name`, `address`, `email`, `pay_type`, `created_at`, `updated_at`, `id`) VALUES ('MyString', 'MyText', 'MyString', 'MyString', '2014-04-21 12:34:14', '2014-04-21 12:34:14', 298486374)[0m
  [1m[35m (2.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
AdminControllerTest: test_should_get_index
------------------------------------------
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_create_cart
--------------------------------------------
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#create as HTML
  Parameters: {"cart"=>{}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 12:34:14', '2014-04-21 12:34:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/carts/980190963
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
CartsControllerTest: test_should_destroy_cart
---------------------------------------------
  [1m[35mCart Load (0.4ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.2ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190962 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190962[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 25ms (ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `carts`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
CartsControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_get_index
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
CartsControllerTest: test_should_get_new
----------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
CartsControllerTest: test_should_show_cart
------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CartsControllerTest: test_should_update_cart
--------------------------------------------
  [1m[35mCart Load (0.1ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1
Processing by CartsController#update as HTML
  Parameters: {"cart"=>{}, "id"=>"980190962"}
  [1m[36mCart Load (0.2ms)[0m  [1mSELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/carts/980190962
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_create_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.4ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35mProduct Load (0.3ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>"207281424"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 12:34:14', '2014-04-21 12:34:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190964 AND `line_items`.`product_id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190964, '2014-04-21 12:34:14', 207281424, '2014-04-21 12:34:14')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
LineItemsControllerTest: test_should_destroy_line_item
------------------------------------------------------
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `line_items`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
LineItemsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
LineItemsControllerTest: test_should_get_index
----------------------------------------------
  [1m[35mLineItem Load (0.2ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
LineItemsControllerTest: test_should_get_new
--------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
LineItemsControllerTest: test_should_show_line_item
---------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
LineItemsControllerTest: test_should_update_line_item
-----------------------------------------------------
  [1m[35mLineItem Load (0.1ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`id` = 980190962 LIMIT 1
Processing by LineItemsController#update as HTML
  Parameters: {"line_item"=>{"cart"=>nil, "product_id"=>"207281424"}, "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_require_item_in_cart
-----------------------------------------------
  [1m[35mOrder Load (0.4ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Processing by OrdersController#new as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 12:34:14', '2014-04-21 12:34:14')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190965 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36m (2.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------------
OrdersControllerTest: test_should_create_order
----------------------------------------------
  [1m[36mOrder Load (0.1ms)[0m  [1mSELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `orders`
Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 12:34:15', '2014-04-21 12:34:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLineItem Load (0.3ms)[0m  SELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190966
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `orders` (`address`, `created_at`, `email`, `name`, `pay_type`, `updated_at`) VALUES ('MyText', '2014-04-21 12:34:15', 'dave@example.org', 'Dave Thomas', 'Check', '2014-04-21 12:34:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mCart Load (0.3ms)[0m  SELECT `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLineItem Exists (0.3ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190966 LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM `carts` WHERE `carts`.`id` = 980190966[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
OrdersControllerTest: test_should_destroy_order
-----------------------------------------------
  [1m[35mOrder Load (0.3ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `orders`[0m
Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `orders`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
OrdersControllerTest: test_should_get_edit
------------------------------------------
  [1m[35mOrder Load (0.1ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
OrdersControllerTest: test_should_get_index
-------------------------------------------
  [1m[35mOrder Load (0.1ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
OrdersControllerTest: test_should_get_new
-----------------------------------------
  [1m[35mOrder Load (0.1ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
  [1m[36mProduct Load (0.2ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 12:34:15', '2014-04-21 12:34:15')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `line_items` (`cart_id`, `created_at`, `product_id`, `updated_at`) VALUES (980190967, '2014-04-21 12:34:15', 207281424, '2014-04-21 12:34:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by OrdersController#new as HTML
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 12:34:15', '2014-04-21 12:34:15')[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLineItem Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190968 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
  [1m[35m (2.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
OrdersControllerTest: test_should_show_order
--------------------------------------------
  [1m[35mOrder Load (0.1ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
OrdersControllerTest: test_should_update_order
----------------------------------------------
  [1m[35mOrder Load (0.1ms)[0m  SELECT `orders`.* FROM `orders` WHERE `orders`.`id` = 980190962 LIMIT 1
Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"address"=>"MyText", "email"=>"dave@example.org", "name"=>"Dave Thomas", "pay_type"=>"Check"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------
ProductTest: test_image_url
---------------------------
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.2ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title
-------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.3ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------------
ProductTest: test_product_is_not_valid_without_a_unique_title_-_i18n
--------------------------------------------------------------------
  [1m[36mProduct Load (0.1ms)[0m  [1mSELECT `products`.* FROM `products` WHERE `products`.`id` = 207281424 LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'Programming Ruby 1.9' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
ProductTest: test_product_price_must_be_positive
------------------------------------------------
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35mProduct Exists (0.1ms)[0m  SELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1
  [1m[36mProduct Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM `products` WHERE `products`.`title` = BINARY 'My Book Title' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_create_product
--------------------------------------------------
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
ProductsControllerTest: test_should_destroy_product
---------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `products`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
ProductsControllerTest: test_should_get_edit
--------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
ProductsControllerTest: test_should_get_index
---------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
ProductsControllerTest: test_should_get_new
-------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
ProductsControllerTest: test_should_show_product
------------------------------------------------
  [1m[35mProduct Load (0.2ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
ProductsControllerTest: test_should_update_product
--------------------------------------------------
  [1m[35mProduct Load (0.1ms)[0m  SELECT `products`.* FROM `products` WHERE `products`.`id` = 980190962 LIMIT 1
Processing by ProductsController#update as HTML
  Parameters: {"product"=>{"title"=>"Lorem Ipsum", "description"=>"Wibbles are fun!", "image_url"=>"lorem.jpg", "price"=>"19.95"}, "id"=>"980190962"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------
SessionsControllerTest: test_should_get_create
----------------------------------------------
Processing by SessionsController#create as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`name` IS NULL LIMIT 1
Redirected to http://test.host/login
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
SessionsControllerTest: test_should_get_destroy
-----------------------------------------------
Processing by SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
SessionsControllerTest: test_should_get_new
-------------------------------------------
Processing by SessionsController#new as HTML
Completed 200 OK in 635ms (Views: 634.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
StoreControllerTest: test_should_get_index
------------------------------------------
Processing by StoreController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2014-04-21 12:34:15', '2014-04-21 12:34:15')
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProduct Load (0.4ms)[0m  SELECT `products`.* FROM `products` ORDER BY `products`.`updated_at` DESC LIMIT 1
  [1m[36mProduct Load (0.3ms)[0m  [1mSELECT `products`.* FROM `products` ORDER BY `products`.`title` ASC[0m
  [1m[35mLineItem Exists (0.4ms)[0m  SELECT 1 AS one FROM `line_items` WHERE `line_items`.`cart_id` = 980190969 LIMIT 1
  [1m[36mLineItem Load (0.4ms)[0m  [1mSELECT `line_items`.* FROM `line_items` WHERE `line_items`.`cart_id` = 980190969[0m
  Rendered collection (0.0ms)
  Rendered carts/_cart.html.erb (3.3ms)
Completed 200 OK in 98ms (Views: 92.5ms | ActiveRecord: 1.9ms)
  [1m[35m (2.7ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_create_user
--------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"MyString", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------
UsersControllerTest: test_should_destroy_user
---------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM `users`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
UsersControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_get_index
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
UsersControllerTest: test_should_show_user
------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1
Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
UsersControllerTest: test_should_update_user
--------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 980190962 LIMIT 1
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"MyString", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"980190962"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  ROLLBACK
